<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/common.css">
    <link rel="icon" href="./assets/images/company/flammyTechLogo.png" type="image/png">
    <script src="./scripts/mealsTab.js" defer></script>
    <script src="./scripts/assetswap.js" defer></script>
    <script src="./scripts/cart.js" defer></script>
    
    <title>Meals</title>
</head>

<body class="meals-body">
    <header>
        <h2><a href="/"><span class="white-text">Super</span><span class="orange-text">Eats</span> </a></h2>
        <ul class="nav">
            <li><a href="/">Home</a></li>
            <li><a href="/News">News</a></li>
            <li id="cart-link"> <img class="cart-img" src="./assets/images/icons/cart.png" alt="cart link"> </li>
            <li>Contact</li>
        </ul>
    </header>

<section id="categories" class="categories meal-categories">
    <ul>
        <li class="active" onclick="openMealsTab('tab1')" data-tab="tab1">Vegan</li>
        <li onclick="openMealsTab('tab2')" data-tab="tab2">Vegetarian</li>
        <li onclick="openMealsTab('tab3')" data-tab="tab3">Local</li>
        <li onclick="openMealsTab('tab4')" data-tab="tab4">Special</li>
    </ul>

    <div id="meals-container" class="meals-container">
        <div id="tab1" class="tab-content meals">
            <% meals.forEach(meal => { %>
                <div class="meal-card">
                    <div class="meal-id" style="max-width: 200px;"></div>
                    <img id="meal-image" class="meal-card-image" src="<%= meal.imageUrl %>" alt="Meal Image" style="max-width: 200px;">
                    <video id="meal-video" class="meal-card-video" src="<%= meal.videoUrl %>" autoplay loop muted></video>
                    <button type="submit" id="get-btn" data-meal-id="<%= meal.mealId  %>" class="get-btn">Get</button>
                    <button type="submit" id="price-btn" class="price-btn">$ <%= meal.price %></button>
                    <div class="meal-card-title">
                        <h2><%= meal.name %></h2>
                    </div>
                    <div class="meal-card-description">
                        <p><%= meal.description %></p>
                    </div>
                </div>
            <% }); %>
        </div>
        <div id="tab2" class="tab-content meals">
           Tab2
        </div>
        <div id="tab3" class="tab-content meals">
            Tab3
        </div>
        <div id="tab4" class="tab-content meals">
            Tab4
        </div>
    </div>
</section>


    <!-- Cart Modal -->
    <dialog id="cart-modal" class="cart-modal">
        <div class="modal-content">
            <span id="close-cart-modal" class="close">&times;</span>
            <h2 class="cart-title">Your Basket</h2>
            <div id="cart-items-container">
                
            </div>
        </div>
    </dialog>

</body>

</html>
